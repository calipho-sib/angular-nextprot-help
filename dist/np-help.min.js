!function(a){"use strict";a.module("npHelp",["ngRoute"]).constant("settings",{baseUrl:window.BASE_SERVER,helpUrl:window.HELP_URL||"/nextprot-api/rdf/help/type/all.json",home:window.HOME||"home.md"})}(angular),function(a){"use strict";a.module("npHelp").controller("HelpCtrl",["$scope","$location","rdfHelp","settings","$routeParams",function(a,b,c,d){a.settings=d,a.mdFile=!1,a.$on("$routeChangeStart",function(c,e){a.mdFile=b.path().substring(1),""==a.mdFile&&(a.mdFile=d.home),console.log(e),e&&e.params&&e.params.entity&&(a.entity=a.getActiveElement(e.params.entity),a.entityName=e.params.entity)}),a.getActiveElement=function(b){for(var c in a.rdfHelp)if(a.rdfHelp[c].typeName===":"+b)return a.rdfHelp[c]},a.isActiveElement=function(b){return a.entityName===b},a.rdfHelp=c.query()}])}(angular),function(a){"use strict";a.module("npHelp").factory("rdfHelp",["$resource","settings",function(a,b){console.log(b,(b.baseUrl||"")+b.helpUrl);var c={rdfHelp:a((b.baseUrl||"")+b.helpUrl)},d=function(){};return d.prototype.query=function(){var a=this;return c.rdfHelp.query(null,function(b){angular.extend(a,b)})},new d}])}(angular),function(a){"use strict";a.module("npHelp").directive("rdfHelp",[function(){return{restrict:"A",transclude:!0,replace:!0,templateUrl:"np-help.template.html",link:function(){}}}]).directive("markdown",function(a,b,c){var d=new Showdown.converter;return{restrict:"E",scope:{mdSrc:"@"},replace:!0,link:function(a,e,f){var g=c(f.markdownOpts||{}),h=f.mdSrc;h?f.$observe("mdSrc",function(){b.get(f.mdSrc).then(function(a){e.html(d.makeHtml(a.data))},function(a){return g.silent?e.hide():void e.html(a)})}):e.html(d.makeHtml(e.text()))}}}).filter("trusted",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}]).filter("cleanType",["$sce",function(){return function(a,b){return a&&"object"!=typeof a?(a=a.replace(":",""),b&&(a=a.toLowerCase()),a):a}}])}(angular),angular.module("npHelp").run(["$templateCache",function(a){a.put("html/np-help.element.html",'<div class="row offset1"> <div class="row"> <section id="{{entity.typeName}}"> <h2> {{entity.typeName|cleanType}}  <div ng-if="entity.values.length> 0" class="btn-group"> <button class="btn dropdown-toggle" data-toggle="dropdown">Values<span class="caret"></span> </button> <ul class="dropdown-menu"> <li ng-repeat="value in entity.values"><a href="">{{value}}</a></li> </ul> </div> <span class="badge badge-info">{{entity.instanceCount}}</span> </h2> <blockquote> {{entity.rdfsComment}} </blockquote> <markdown md-src="docs/{{entity.typeName|cleanType:true}}.md" markdown-opts="{silent:true}"/> <div class="row"> <div class="col-xs-12 col-md-5 vertical-middle "> <div ng-repeat="parent in entity.parentTriples | filter : rdfHelp.triples.predicate"> <p><code><a href="#!/{{parent.subjectType|cleanType}}" class="text-info">{{parent.subjectType}}</a></code> &nbsp; <code class="text-warning">{{parent.predicate}}</code></span> </p> </div> </div> <div class="col-xs-12 col-md-7 form-inline"> <div class="panel panel-default"> <div class="panel-heading"><h5 class="text-center">{{entity.typeName}}</h5></div> <div class="panel-body"> <div ng-repeat="t in entity.triples | filter : rdfHelp.triples.predicate"> <code class="text-warning">{{t.predicate}}</code> <code><a class="text-success" href="#!/{{t.objectType|cleanType}}">{{t.objectType}}</a></code> &nbsp; <span class="label label-info">{{t.tripleCount}}</span> <select ng-if="t.literalType && t.values.length> 1" class="form-control"> <option ng-repeat="value in t.values" value="{{value}}">{{value}}</option> </select> <input ng-if="t.literalType && t.values.length==1" type="text" placeholder="{{t.values[0]}}" class="form-control"></input> </div> </div> </div> </div> </div> <div class="bs-docs-example"> <div ng-repeat="t in entity.triples | filter : rdfHelp.triples.predicate"> <code class="text-info">{{t.tripleSample}}</code> </div> </div> <div class="bs-docs-example"> <div ng-repeat="path in entity.pathToOrigin"> <code class="text-info">{{path}} ?statement</code> </div> </div> </section> </div> </div>'),a.put("html/np-help.intro.html",'<markdown md-src="{{settings.home|trusted}}"/>'),a.put("html/np-help.md.html",'<markdown md-src="{{mdFile|trusted}}"/>')}]);
//# sourceMappingURL=./dist/np-help.map